{"version":3,"sources":["./src/app/pages/movies/movies-page/movies.page.ts","./src/app/pages/movies/movies-routing.module.ts","./src/app/pages/movies/movies.module.ts","./src/app/shared/services/movies.service.ts","./src/app/pages/movies/movies-page/movies.page.scss","./src/app/pages/movies/movies-page/movies.page.html"],"names":[],"mappings":"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","file":"src_app_pages_movies_movies_module_ts.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ViewWillEnter } from '@ionic/angular';\r\nimport { Movie } from 'src/app/shared/models/movie.model';\r\nimport { MoviesService } from 'src/app/shared/services/movies.service';\r\n\r\n@Component({\r\n  selector: 'app-movies',\r\n  templateUrl: './movies.page.html',\r\n  styleUrls: ['./movies.page.scss'],\r\n})\r\nexport class MoviesPage implements OnInit, ViewWillEnter {\r\n  movies: Movie[];\r\n\r\n  constructor(private moviesService: MoviesService, private router: Router) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  ionViewWillEnter() {\r\n    this.moviesService\r\n      .getMovies()\r\n      .subscribe((movies) => (this.movies = movies));\r\n  }\r\n\r\n  goToMovie(id: number) {\r\n    this.router.navigate(['/movies', id]);\r\n  }\r\n\r\n  onVoteUp(movie: Movie) {\r\n    this.moviesService.voteUpMovie(movie).subscribe();\r\n  }\r\n\r\n  onVoteDown(movie: Movie) {\r\n    this.moviesService.voteDownMovie(movie).subscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MoviesPage } from './movies-page/movies.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MoviesPage,\r\n  },\r\n  {\r\n    path: 'new-movie',\r\n    loadChildren: () =>\r\n      import('../new-movie/new-movie.module').then((m) => m.NewMoviePageModule),\r\n  },\r\n  {\r\n    path: ':id',\r\n    loadChildren: () =>\r\n      import('../movie-details/movie-details.module').then(\r\n        (m) => m.MovieDetailsPageModule\r\n      ),\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MoviesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nimport { MoviesPageRoutingModule } from './movies-routing.module';\r\n\r\nimport { MoviesPage } from './movies-page/movies.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MoviesPageRoutingModule,\r\n    SharedModule,\r\n  ],\r\n  declarations: [MoviesPage],\r\n})\r\nexport class MoviesPageModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Movie } from '../models/movie.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class MoviesService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getMovies(): Observable<Movie[]> {\r\n    return this.http.get<Movie[]>(`${environment.baseUrl}/movies`);\r\n  }\r\n\r\n  getMovie(id: number): Observable<Movie> {\r\n    return this.http.get<Movie>(`${environment.baseUrl}/movies/${id}`);\r\n  }\r\n\r\n  addMovie(movie: Movie): Observable<Movie> {\r\n    const newMovie = { ...movie, ratingPositive: 0, ratingNegative: 0 };\r\n    return this.http.post<Movie>(`${environment.baseUrl}/movies`, newMovie);\r\n  }\r\n\r\n  updateMovie(updateMovie: Movie): Observable<Movie> {\r\n    return this.http.put<Movie>(\r\n      `${environment.baseUrl}/movies/${updateMovie.id}`,\r\n      updateMovie\r\n    );\r\n  }\r\n\r\n  removeMovie(id: number): Observable<void> {\r\n    return this.http.delete<void>(`${environment.baseUrl}/movies/${id}`);\r\n  }\r\n\r\n  voteUpMovie(movie: Movie): Observable<Movie> {\r\n    movie.ratingPositive++;\r\n    return this.updateMovie(movie);\r\n  }\r\n\r\n  voteDownMovie(movie: Movie): Observable<Movie> {\r\n    movie.ratingNegative++;\r\n    return this.updateMovie(movie);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb3ZpZXMucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Pel√≠culas</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n  <ion-spinner *ngIf=\\\"!movies\\\"></ion-spinner>\\r\\n\\r\\n  <!-- fab placed to the top end -->\\r\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" edge>\\r\\n    <ion-fab-button [routerLink]=\\\"['new-movie']\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col *ngFor=\\\"let movie of movies\\\" size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n        <app-movie-card\\r\\n        [movie]=\\\"movie\\\"\\r\\n          (cardClicked)=\\\"goToMovie(movie.id)\\\"\\r\\n          (voteUpClick)=\\\"onVoteUp(movie)\\\"\\r\\n          (voteDownClick)=\\\"onVoteDown(movie)\\\"\\r\\n        ></app-movie-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}